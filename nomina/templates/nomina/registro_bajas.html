{% extends 'base.html' %}

{% load static %}

{% block title %}| Registrar de bajas{% endblock title %}

{% block content %}
    <h3 class="">{{ texto1 }}</h3>
    <p>{{ texto2 }}</p>
    <form class="form-class" method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <button class="btn btn-outline-primary btn-rounded" type="submit" name="guardar">Registrar</button>
        <button class="btn btn-outline-primary btn-rounded" type="submit" name="guardar_y_seguir">Registrar y añadir otro</button>
        <button class="btn btn-outline-warning btn-rounded" type="reset">Limpiar</button>
        <button class="btn btn-outline-danger btn-rounded" type="cancel" onClick="history.go(-1);">Cancelar</button>
    </form>
{% endblock content %}

{% block js %}
<script>
    const activo = document.getElementById("id_activo").value;
    console.log('cogí el valor de activo, y es: ')
    // var myEle = document.getElementById("compras");

    // if(myEle) {    
    //     console.log('vas a registrar una compra')
    // }
    // function cancelar() { window.location.href = "{% url 'nomina_cargos' %}";
    // }
    /*
    async function select(value) {
        await fetch('/compras/api_ultimoprecio/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                producto: value,
            }),
        })
        .then(response => response.json())
        .then(data => {
            //console.log('lo que llega del POST: ', data[0]['precio_compra'])
            precioCompra = data[0]['precio_compra']
            if (precioCompra) {
                document.getElementById('id_precio_compra').value = data[0]['precio_compra']    
            }
            // document.getElementById('id_precio_compra').value = data[0]['precio_compra']
            // precio_compra.innerHTML = data.precio_compra
        });
    }
    */

</script>
    
{% endblock js %}
